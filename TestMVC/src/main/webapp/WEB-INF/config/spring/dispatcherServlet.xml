<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:mvc="http://www.springframework.org/schema/mvc"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd">

<mvc:annotation-driven/>

	<bean	id="viewResolver"
			class="org.springframework.web.servlet.view.InternalResourceViewResolver">
			
			<property name="prefix" value="/WEB-INF/view/"/>
			<property name="suffix" value=".jsp"/>
			
	</bean>
	
	<bean	id="validator" 
			class="org.springframework.validation.beanvalidation.LocalValidatorFactoryBean"/>

	<bean id="testcontroller" class="com.ktds.christof_kim.web.mvc.TestController"/>
	
	<bean id="boardDAO" 
		class="com.ktds.christof_kim.board.dao.impl.BoardDAOImpl"/>
		
	<bean id="boardService" 
		class="com.ktds.christof_kim.board.service.impl.BoardServiceImpl">
			<property name="boardDAO" ref="boardDAO"/>
	</bean>
	
	<bean id="boardController" 
		class="com.ktds.christof_kim.board.web.BoardController">
			<property name="boardService" ref="boardService"/>
	</bean>
	<!-- DI END -->
	
	<!-- <mvc:resources location="/WEB-INF/static" mapping="/static/" /> -->
	<mvc:resources mapping="/resources/**" location="/WEB-INF/resources" />
	
	<!-- 모든 페이지를 테스트 할 때 -->
	
	<!-- <mvc:interceptors>
		<bean id="measuringInterceptor" class="com.ktds.christof_kim.intercept.MeasuringInterceptor"/>
	</mvc:interceptors> -->	
	
	<!-- 원하는 페이지(test4만 테스트를 할 때 -->	
	<mvc:interceptors>
		<mvc:interceptor>
		<mvc:mapping path="/test4"/>
			<bean id="measuringInterceptor" class="com.ktds.christof_kim.intercept.MeasuringInterceptor"/>
		</mvc:interceptor>
		
		<mvc:interceptor>
			<mvc:mapping path="/detail/**"/><!--  -->
			<mvc:mapping path="/list"/><!--  -->
			<mvc:exclude-mapping path="/login"/><!--  -->
			<mvc:exclude-mapping path="/doLogin"/><!--  -->
			<mvc:exclude-mapping path="/write"/><!--  -->
			<mvc:exclude-mapping path="/doWrite"/><!--   -->
			<bean id="loginInterceptor" class="com.ktds.christof_kim.intercept.LoginInterceptor"/>
		</mvc:interceptor>
		
	</mvc:interceptors>
	
	<!--  id가 없어도 알아서 스프링이 찾아감. 그래서 스프링인가? ㅋㅋㅋ -->
	<bean class="com.ktds.christof_kim.exception.CommonExceptionHandler"></bean>
	
</beans>
